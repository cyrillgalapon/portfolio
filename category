<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Category</title>
<style>
  body { font-family: Arial, sans-serif; background: #fafafa; margin: 0; padding: 0; }
  header { text-align: center; background: #222; color: #fff; padding: 1em; }
  .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px,1fr)); gap: 1em; padding: 1em; }
  .gallery img, .gallery video { width: 100%; border-radius: 5px; }
  video { max-width: 100%; }
</style>
</head>
<body>
<header>
  <h1 id="category-title">Category</h1>
</header>

<div class="gallery" id="gallery"></div>

<script>
async function loadCategory() {
  const params = new URLSearchParams(window.location.search);
  const categoryName = params.get("name");
  if(!categoryName) return;

  document.getElementById("category-title").textContent = categoryName;

  const res = await fetch("media.json");
  const data = await res.json();

  const gallery = document.getElementById("gallery");
  const items = data.categories[categoryName] || [];

  items.forEach(file => {
    const img = document.createElement("img");
    img.src = "images/" + encodeURIComponent(file);
    img.alt = categoryName;
    gallery.appendChild(img);
  });
}

loadCategory();
</script>
</body>
</html>
